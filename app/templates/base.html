{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      href="https://fonts.googleapis.com/css?family=Lato&display=swap"
      rel="stylesheet"
    />
    <link
      rel="icon"
      href="https://res.cloudinary.com/dige8bejc/image/upload/v1695184555/tpbuuwke2nzxwaaxtsxg.png"
    />
    <link href="{% static 'css/output.css' %}" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <title>{% block title %} {% endblock %}</title>
  </head>
  <body>
    {% include 'sidebar.html' %}
    <header>
      <div
        class="flex items-center justify-between md:justify-center mx-auto w-11/12 max-w-[1600px] md:py-8"
      >
        <button
          id="nav-btn"
          class="text-black bg-white z-40 p-2 sidebarToggle md:fixed md:left-2 md:top-10"
        >
          <svg
            class="w-6 h-6"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth="2"
              d="M4 6h16M4 12h8m-8 6h16"
            ></path>
          </svg>
        </button>
        <div>
          <p class="logo logo-head">
            <a href="{% url 'index' %}"
              ><span class="font-lato text-black">Blog</span> Amigos</a
            >
          </p>
          <p class="text-sm text-gray-500 font-playfair text-center md:hidden">
            Phim ảnh, video games, âm nhạc và nhiều hơn thế!
          </p>
        </div>
        <div class="flex justify-center items-center gap-x-8 md:hidden">
          <a
            href="https://www.facebook.com/profile.php?id=100009958477102"
            target="_blank"
            ><i class="fa-brands fa-facebook-f"></i
          ></a>
          <a href="https://twitter.com/minh_anh30" target="_blank"
            ><i class="fa-brands fa-x-twitter"></i
          ></a>
          <a href="mailto:tinproht123@gmail.com" target="_blank"
            ><i class="fa-solid fa-envelope"></i
          ></a>
        </div>
      </div>
    </header>
    <nav
      class="flex gap-x-20 md:hidden justify-center items-center border-t-2 border-b-2 my-5 list-none sticky top-0 bg-white z-40"
    >
      <li
        class="text-[18px] font-[600] hover:text-red-600 transition-all py-4 {% if '/movies/' in request.path %}text-red-600{% endif %}"
      >
        <a href="{% url 'movies' %}">Phim Ảnh</a>
      </li>
      <li
        class="text-[18px] font-[600] hover:text-red-600 transition-all py-4 {% if '/video-games/' in request.path %}text-red-600{% endif %}"
      >
        <a href="{% url 'video_games' %}">Video Game</a>
      </li>
      <li
        class="text-[18px] font-[600] hover:text-red-600 transition-all py-4 {% if '/animes/' in request.path %}text-red-600{% endif %}"
      >
        <a href="{% url 'animes' %}">Anime</a>
      </li>
      <li
        class="text-[18px] font-[600] hover:text-red-600 transition-all py-4 {% if '/mangas/' in request.path %}text-red-600{% endif %}"
      >
        <a href="{% url 'mangas' %}">Manga</a>
      </li>
      <li
        class="text-[18px] font-[600] hover:text-red-600 transition-all py-4 {% if '/musics/' in request.path %}text-red-600{% endif %}"
      >
        <a href="{% url 'musics' %}">Âm Nhạc</a>
      </li>
    </nav>

    <!-- MAIN CONTENT  -->
    <main class="min-h-screen">{% block content %} {% endblock %}</main>

    <!-- FOOTER  -->
    <footer class="bg-black w-full py-10 text-white text-center mt-14">
      <div class="flex flex-col gap-y-5">
        <p class="logo text-[24px]">
          <a href="{% url 'index' %}"
            ><span class="font-lato text-white">Blog</span> Amigos</a
          >
        </p>
        <p>Bản quyền thuộc về Khánh Tùng@2023</p>
        <p class="text-sm italic px-2 sm:text-[14px]">
          Hiện tại web vẫn đang chạy thử nghiệm, mình rất vui lòng nếu các bạn
          có feedback lỗi hoặc góp ý để mình hoàn thiện web tốt hơn. Cheers!
        </p>
        <div class="flex justify-center items-center gap-x-8">
          <a
            href="https://www.facebook.com/profile.php?id=100009958477102"
            target="_blank"
            ><i class="fa-brands fa-facebook-f"></i
          ></a>
          <a href="https://twitter.com/minh_anh30" target="_blank"
            ><i class="fa-brands fa-x-twitter"></i
          ></a>
          <a href="mailto:tinproht123@gmail.com" target="_blank"
            ><i class="fa-solid fa-envelope"></i
          ></a>
        </div>
      </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-element-bundle.min.js"></script>
    {% block script %} {% endblock %}
    <script>
      // JavaScript code for sidebar toggle functionality
      const sidebarToggle = document.querySelector(".sidebarToggle");
      const sidebar = document.querySelector(".sidebar");
      const sidebarOverlay = document.querySelector(".sidebarOverlay");
      const closeBtn = document.querySelector(".close-btn");

      sidebarToggle.addEventListener("click", () => {
        sidebar.classList.toggle("-translate-x-full");
        sidebarOverlay.classList.toggle("hidden");
      });

      sidebarOverlay.addEventListener("click", () => {
        sidebar.classList.toggle("-translate-x-full");
        sidebarOverlay.classList.toggle("hidden");
      });

      closeBtn.addEventListener("click", () => {
        sidebar.classList.toggle("-translate-x-full");
        sidebarOverlay.classList.toggle("hidden");
      });

      //JavaScript code for navbar shadow whenever hit the top of page and sidebar button shadow whenever scroll down
      const navbar = document.querySelector("nav");
      const navBtn = document.querySelector("#nav-btn");
      const logoHead = document.querySelector(".logo-head");
      window.addEventListener("scroll", function () {
        const boundingNav = navbar.getBoundingClientRect();
        const boundingLogoHead = logoHead.getBoundingClientRect();
        if (boundingNav.top <= 0) {
          navbar.classList.add("shadow-lg");
          navBtn.classList.add("nav-btn");
        } else {
          navbar.classList.remove("shadow-lg");
          navBtn.classList.remove("nav-btn");
        }

        if (boundingLogoHead.top < 0) {
          navBtn.classList.add("nav-btn");
          navBtn.classList.remove("md:top-10");
          navBtn.classList.add("md:top-2");
        } else {
          navBtn.classList.remove("nav-btn");
          navBtn.classList.remove("md:top-2");
          navBtn.classList.add("md:top-10");
        }
      });
    </script>
  </body>
</html>
